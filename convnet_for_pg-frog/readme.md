# About this repository
In this repository, the temporal profile of femtosecond (1 fs = 10<sup>-15</sup> s) laser pulses, i.e., pulse width and temporal chirp parameter, is retrieved by analyzing traces of polarization-gated [frequency-resolved optical gating](https://en.wikipedia.org/wiki/Frequency-resolved_optical_gating) (PG-FROG) using a [convolutional neural network](https://en.wikipedia.org/wiki/Convolutional_neural_network). The model can quickly characterize laser pulses once training process is finished.  
  
Main files in this repository are:
- [FROG.ipynb](https://github.com/ksonod/scientific_works/blob/master/convnet_for_pg-frog/FROG.ipynb): Numerical simulation tool for polarization-gate version of frequency-resolved optical gating (PG-FROG). After running this notebook, training images, i.e., PG-FROG traces, will be created. 
- [CNN.ipynb](https://github.com/ksonod/scientific_works/blob/master/convnet_for_pg-frog/CNN.ipynb): Regression analysis using a convolutional neural network.
- [frog_func.py](https://github.com/ksonod/scientific_works/blob/master/convnet_for_pg-frog/frog_func.py): Some functions needed for numerical simulation 
- frog_train.zip: Sample images generated by FROG.ipynb.        
  
If you want to prepare your own training images, you should start with FROG.ipynb. If you want to train a convolutional neural network using training images generated by FROG.ipynb or stored in frog_train.zip, please check CNN.ipynb. 

# Procedure
Below is a graphical summary of this repository:    
  
<img src="https://i.imgur.com/nvTHmaU.png" width="700px">      

- The two files, [FROG.ipynb](https://github.com/ksonod/scientific_works/blob/master/convnet_for_pg-frog/FROG.ipynb) and [frog_func.py](https://github.com/ksonod/scientific_works/blob/master/convnet_for_pg-frog/frog_func.py), generate PG-FROG traces. The PG-FROG trace is expressed by   
<img src="https://i.imgur.com/gVCHdrZ.png" width="400px">,      
where &omega; is the angular frequency, t is the time, E(t) is the complex pulse field versus time, and &tau; is the delay between the two replicas of the laser pulse. As can be seen from the equation above, the PG-FROG trace is a signal measured as a function of the delay &tau; and the angular frequency &omega;. 
- In order to generate the PG-FROG traces (training images) by the numerical simulation, you should specify the temporal width of the laser pulse and chirp parameter. The temporal width of the laser pulse is determined by the duration when the laser pulse has significant intensity. The chirp parameter specifies the temporal dependence of the frequency of the light.For example, the oscillating field of light in the graphical summary shows slow oscillation at first and then oscillates faster.  

  
# Theoretical background of FROG
## Theory
Basic theoretical background can be found in the following materials:
- Electric field and temporal phases: reference [1], page 21-23
- Theoretical background, actual FROG traces, and experimental conditions: reference [1] page 118-122   
- My notebook [FROG.ipynb](https://github.com/ksonod/scientific_works/blob/master/convnet_for_pg-frog/FROG.ipynb) 
 
In the present study, a laser pulse with a Gaussian profile and quadratic temporal phase is considered:
<img src="https://i.imgur.com/RoRvQMj.png" width="250px">        
Here, E<sub>0</sub> is the amplitude, a is the parameter that determines the temporal width of a laser pulse, and b is the chirp parameter. In this case, the temporal phase is simply given by   
<img src="https://i.imgur.com/ron2a0x.png" width="100px">.   
   
In order to get a FROG trace, an autocorrelation signal based on nonlinear optical effect is resolved in terms of frequency. The PG-FROG trace is expressed as    
<img src="https://i.imgur.com/gVCHdrZ.png" width="400px">,      
where &omega; is the angular frequency, t is the time, E(t) is the complex pulse field versus time, and &tau; is the delay between the two replicas of the pulse. The integral part is basically the Fourier transform of E(t)|E(t-&tau;)|<sup>2</sup>. It should be noted that the PG-FROG sinal is the function of the delay &tau; and the angular frequency &omega;. Below are sample traces, in which wavelength is adopted as a unit for y axis instead of the angular frequency.   

<img src="https://i.imgur.com/S15uHzS.png" width="400px">  
(The chirp parameter b = 0. In this case, the trace has a round shape.)      
     
    
<img src="https://i.imgur.com/5dDpsIx.png" width="400px">  
(The chirp parameter b has a non-zero value. As a result, the trace is distorted. In other words, the wavelength/frequency changes as the time goes by.)

   
## Reference
[1] Rick Trebino, "[Frequency-resolved optical gating: The measurement of ultrashort laser pulses](https://link.springer.com/book/10.1007/978-1-4615-1181-6)," Springer Science+Business Media New York (2000)  
[2] Rick Trebino, Kenneth W. DeLong, David N. Fittinghoff, John N. Sweetser, Marco A. Krumb√ºgel, and Bruce A. Richman, "Measuring ultrashort laser pulses in the time-frequency domain using frequency-resolved optical gating," Rev. Sci. Instrum. 68, 3277 (1997)
